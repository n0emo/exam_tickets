# 3. Формат IP-адреса: фиксированная граница адресов сети и узла.

## Структура IP-адреса

IP-адрес версии 4 (IPv4) представляет собой 32-битное число, которое записывается в виде четырех десятичных чисел (октетов), разделенных точками. Каждый октет может принимать значения от 0 до 255, например: 192.168.1.10 или 10.25.134.7.

Любой IP-адрес состоит из двух частей: номера сети и номера узла (хоста) в этой сети. Номер сети идентифицирует конкретную сеть в составе Интернета, а номер узла определяет конкретный компьютер или устройство внутри этой сети. Граница между этими двумя частями адреса может проходить в разных местах в зависимости от используемого метода адресации.

## Классовая адресация и фиксированная граница

Классовая адресация - это исторический метод IP-адресации, который использовался с 1981 по 1993 год. Ключевая особенность этого метода заключается в том, что граница между адресом сети и адресом узла была жестко зафиксирована и проходила строго по границам октетов (байтов).

В классовой адресации принадлежность IP-адреса к определенному классу определяется по значениям первых битов первого октета. В зависимости от класса автоматически определялась маска подсети, которая указывала, какая часть адреса относится к номеру сети, а какая - к номеру узла. Было выделено пять классов адресов (A, B, C, D, E), при этом классы A, B и C использовались для адресации узлов в сетях.

### Класс A

Адреса класса A предназначались для очень больших сетей. Первый бит адреса всегда равен 0, что определяет диапазон первого октета от 1 до 126 (0 и 127 зарезервированы для специальных целей). В адресах класса A первый октет отводился под номер сети, а остальные три октета - под адреса узлов.

Фиксированная маска подсети для класса A: 255.0.0.0 (или /8 в нотации CIDR). Это означает, что граница между сетевой и узловой частью проходит после первого октета. Например, в адресе 10.25.134.7 номер сети - 10.0.0.0, а номер узла - 0.25.134.7. В одной сети класса A могло размещаться до 16 777 214 узлов ($2^{24} - 2$, где вычитаются адрес сети и широковещательный адрес).

### Класс B

Адреса класса B предназначались для сетей среднего размера. Первые два бита адреса имеют значение 10, что определяет диапазон первого октета от 128 до 191. В адресах класса B первые два октета отводились под номер сети, а последние два октета - под адреса узлов.

Фиксированная маска подсети для класса B: 255.255.0.0 (или /16). Граница проходит после второго октета. Например, в адресе 172.16.45.8 номер сети - 172.16.0.0, а номер узла - 0.0.45.8. В одной сети класса B могло размещаться до 65 534 узлов ($2^{16} - 2$).

### Класс C

Адреса класса C использовались для небольших сетей. Первые три бита адреса имеют значение 110, что определяет диапазон первого октета от 192 до 223. В адресах класса C первые три октета отводились под номер сети, а последний октет - под адреса узлов.

Фиксированная маска подсети для класса C: 255.255.255.0 (или /24). Граница проходит после третьего октета. Например, в адресе 192.168.1.10 номер сети - 192.168.1.0, а номер узла - 0.0.0.10. В одной сети класса C могло размещаться до 254 узлов ($2^8 - 2$).

## Принцип фиксированной границы

Ключевая особенность классовой адресации - это именно фиксированность границы. Если администратор получал адрес из класса A, он не мог изменить маску подсети - она всегда была 255.0.0.0. Для класса B маска всегда 255.255.0.0, для класса C - всегда 255.255.255.0. Граница между сетевой и узловой частью была предопределена классом адреса и проходила строго по границам октетов: после 8, 16 или 24 битов.

Такая жесткая фиксация имела важное практическое следствие: по одному только IP-адресу без дополнительной информации можно было точно определить, какая часть адреса является номером сети, а какая - номером узла. Достаточно было посмотреть на значение первого октета: если оно от 1 до 126 - класс A с маской 255.0.0.0, от 128 до 191 - класс B с маской 255.255.0.0, от 192 до 223 - класс C с маской 255.255.255.0.

## Недостатки фиксированной границы

Несмотря на простоту и понятность, классовая адресация с фиксированной границей оказалась крайне неэффективной. Организация, которой требовалось 300 узлов, не могла использовать сеть класса C (максимум 254 узла) и вынуждена была получать адрес класса B, который позволял адресовать 65 534 узла. Остальные адреса просто пропадали впустую.

Проблема усугублялась тем, что в классовой адресации нельзя было использовать разные маски для разных подсетей. Если организация получила сеть класса B, она должна была использовать маску 255.255.0.0 для всех своих подсетей. Это приводило к огромным потерям адресного пространства и быстрому исчерпанию доступных адресов.

## Переход к бесклассовой адресации

С ростом Интернета классовая адресация показала свою несостоятельность, и в 1993 году был введен стандарт RFC 1519, описывающий бесклассовую междоменную маршрутизацию CIDR (Classless Inter-Domain Routing). В бесклассовой адресации граница между сетевой и узловой частью может проходить в любом месте адреса, а не только по границам октетов.

Маска подсети в CIDR может иметь любую длину от /8 до /30 для реальных сетей. Например, маска 255.255.255.192 (/26) означает, что граница проходит внутри четвертого октета после 26 битов. Это позволяет создавать сети точно под требуемое количество узлов, избегая неэффективного использования адресного пространства.

В современных сетях классовая адресация не используется, однако понимание принципа фиксированной границы остается важным для изучения истории развития IP-протокола и понимания различий между классовым и бесклассовым подходами. Термины "сеть класса C" или "сеть класса A" иногда используются в разговорной речи сетевых администраторов, хотя технически речь идет уже о бесклассовых сетях с масками /24 или /8.

**Источники:**
- https://ru.wikipedia.org/wiki/Классовая_адресация
- https://itandlife.ru/technology/computer-networks/ip-adresaciya-klassy-ip-adresov-i-znachenie-maski-podseti/
- https://zametkinapolyah.ru/kompyuternye-seti/4-5-klassovye-seti-i-klassy-setej-v-protokole-ip.html
